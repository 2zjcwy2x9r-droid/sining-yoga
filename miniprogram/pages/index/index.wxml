<!--pages/index/index.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨æ¬¢è¿åŒºåŸŸ -->
  <view class="header">
    <view class="welcome">
      <text class="title">æœ¬å‘¨è¯¾ç¨‹</text>
      <text class="subtitle">é€‰æ‹©æ‚¨å–œæ¬¢çš„è¯¾ç¨‹</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- è¯¾ç¨‹åˆ—è¡¨ -->
  <view wx:else class="classes-container">
    <view wx:if="{{classes.length === 0}}" class="empty">
      <text>æœ¬å‘¨æš‚æ— è¯¾ç¨‹</text>
    </view>
    
    <view wx:for="{{classes}}" wx:key="date" class="day-section">
      <view class="day-header">
        <text class="day-label">{{item.dateLabel}}</text>
        <text class="day-date">{{item.date}}</text>
      </view>
      
      <view class="classes-list">
        <view 
          wx:for="{{item.classes}}" 
          wx:for-item="class"
          wx:key="id" 
          class="class-card"
          bindtap="navigateToClassDetail"
          data-id="{{class.id}}"
        >
          <view class="class-header">
            <text class="class-name">{{class.name}}</text>
            <view class="class-status {{class.available ? 'available' : 'full'}}">
              {{class.available ? 'å¯é¢„è®¢' : 'å·²æ»¡'}}
            </view>
          </view>
          
          <view class="class-info">
            <view class="info-item">
              <text class="info-icon">ğŸ‘¤</text>
              <text class="info-text">{{class.instructor}}</text>
            </view>
            <view class="info-item">
              <text class="info-icon">ğŸ•</text>
              <text class="info-text">{{class.start_time}} - {{class.end_time}}</text>
            </view>
            <view class="info-item">
              <text class="info-icon">ğŸ‘¥</text>
              <text class="info-text">{{class.booked_count}}/{{class.capacity}}äºº</text>
            </view>
          </view>
          
          <view wx:if="{{class.description}}" class="class-desc">
            {{class.description}}
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
